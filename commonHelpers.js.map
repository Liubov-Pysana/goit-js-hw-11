{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43884583-1aaf199fc122235264ed6db18';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotosByQuery = query => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n\n    return response.json();\n  });\n};\n","export const renderGallery = hits => {\n  return hits\n    .map(\n      hit => `<li>\n        <div class='preview'>\n            <a href='${hit.largeImageURL}'><img src='${hit.webformatURL}' alt=\"${hit.tags}\"/></a>\n            <div class=\"stats\">\n                <div><span class='stat-title'>Likes</span><span>${hit.likes}</span></div>\n                <div><span class='stat-title'>Views</span><span>${hit.views}</span></div>\n                <div><span class='stat-title'>Comments</span><span>${hit.comments}</span></div>\n                <div><span class='stat-title'>Downloads</span><span>${hit.downloads}</span></div>\n            </div>\n        </div>\n  </li>`\n    )\n    .join('');\n};\n\nexport const showElement = element => {\n  element.style.display = 'block';\n};\n\nexport const hideElement = element => {\n  element.style.display = 'none';\n};\n\n// results.insertAdjacentHTML('beforeend', markup);\n// const lightbox = new SimpleLightbox('.gallery a', {\n//   captionsData: 'alt',\n//   captionDelay: 250,\n// });\n// lightbox.refresh();\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchPhotosByQuery } from './js/pixabay-api';\nimport { renderGallery, hideElement, showElement } from './js/render-functions';\n\nconst form = document.getElementById('search-form');\nconst input = document.getElementById('search-input');\nconst results = document.getElementById('results');\nconst loadingIndicator = document.getElementById('loading-indicator');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  /* options */\n});\n\nfunction showError(message) {\n  iziToast.show({\n    message: message,\n    position: 'topRight',\n    timeout: 2000,\n    color: 'red',\n  });\n}\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const query = input.value.trim();\n  if (query === '') {\n    showError('Please, enter the search query!');\n    return;\n  }\n\n  showElement(loadingIndicator);\n  results.innerHTML = '';\n  fetchPhotosByQuery(query)\n    .then(result => {\n      if (result.total === 0) {\n        showError(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return;\n      }\n\n      results.innerHTML = renderGallery(result.hits);\n      lightbox.refresh();\n    })\n    .catch(e => {\n      showError('Sorry, some error occured. Please, try again!');\n    })\n    .finally(() => {\n      hideElement(loadingIndicator);\n    });\n});\n"],"names":["API_KEY","BASE_URL","fetchPhotosByQuery","query","searchParams","response","renderGallery","hits","hit","showElement","element","hideElement","form","input","results","loadingIndicator","lightbox","SimpleLightbox","showError","message","iziToast","e","result"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAqBC,GAAS,CACzC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGrC,OAAOA,EAAS,MACpB,CAAG,CACH,ECnBaC,EAAgBC,GACpBA,EACJ,IACCC,GAAO;AAAA;AAAA,uBAEUA,EAAI,aAAa,eAAeA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,kEAEvBA,EAAI,KAAK;AAAA,kEACTA,EAAI,KAAK;AAAA,qEACNA,EAAI,QAAQ;AAAA,sEACXA,EAAI,SAAS;AAAA;AAAA;AAAA,QAI9E,EACA,KAAK,EAAE,EAGCC,EAAcC,GAAW,CACpCA,EAAQ,MAAM,QAAU,OAC1B,EAEaC,EAAcD,GAAW,CACpCA,EAAQ,MAAM,QAAU,MAC1B,ECfME,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQ,SAAS,eAAe,cAAc,EAC9CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAmB,SAAS,eAAe,mBAAmB,EAE9DC,EAAW,IAAIC,EAAe,aAAc,CAElD,CAAC,EAED,SAASC,EAAUC,EAAS,CAC1BC,EAAS,KAAK,CACZ,QAASD,EACT,SAAU,WACV,QAAS,IACT,MAAO,KACX,CAAG,CACH,CAEAP,EAAK,iBAAiB,SAAUS,GAAK,CACnCA,EAAE,eAAc,EAChB,MAAMlB,EAAQU,EAAM,MAAM,KAAI,EAC9B,GAAIV,IAAU,GAAI,CAChBe,EAAU,iCAAiC,EAC3C,MACD,CAEDT,EAAYM,CAAgB,EAC5BD,EAAQ,UAAY,GACpBZ,EAAmBC,CAAK,EACrB,KAAKmB,GAAU,CACd,GAAIA,EAAO,QAAU,EAAG,CACtBJ,EACE,0EACV,EACQ,MACD,CAEDJ,EAAQ,UAAYR,EAAcgB,EAAO,IAAI,EAC7CN,EAAS,QAAO,CACtB,CAAK,EACA,MAAMK,GAAK,CACVH,EAAU,+CAA+C,CAC/D,CAAK,EACA,QAAQ,IAAM,CACbP,EAAYI,CAAgB,CAClC,CAAK,CACL,CAAC"}