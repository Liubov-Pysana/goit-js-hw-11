{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43884583-1aaf199fc122235264ed6db18';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotosByQuery = query => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n\n    return response.json();\n  });\n};\n","export const renderGallery = hits => {\n  return hits\n    .map(\n      hit => `<li>\n        <div class='preview'>\n            <a href='${hit.largeImageURL}'><img src='${hit.webformatURL}' alt=\"${hit.tags}\"/></a>\n            <div class=\"stats\">\n                <div><span class='stat-title'>Likes</span><span>${hit.likes}</span></div>\n                <div><span class='stat-title'>Views</span><span>${hit.views}</span></div>\n                <div><span class='stat-title'>Comments</span><span>${hit.comments}</span></div>\n                <div><span class='stat-title'>Downloads</span><span>${hit.downloads}</span></div>\n            </div>\n        </div>\n  </li>`\n    )\n    .join('');\n};\n\n// results.insertAdjacentHTML('beforeend', markup);\n// const lightbox = new SimpleLightbox('.gallery a', {\n//   captionsData: 'alt',\n//   captionDelay: 250,\n// });\n// lightbox.refresh();\n","import { fetchPhotosByQuery } from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { renderGallery } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.getElementById('search-form');\nconst input = document.getElementById('search-input');\nconst results = document.getElementById('results');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  /* options */\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const query = input.value.trim();\n  if (query === '') {\n    iziToast.show({\n      message: 'Please, enter the search query!',\n      position: 'topRight',\n      timeout: 2000,\n      color: 'red',\n    });\n    return;\n  }\n\n  fetchPhotosByQuery(query).then(result => {\n    console.log(result);\n\n    if (result.total === 0) {\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        timeout: 2000,\n        color: 'red',\n      });\n      return;\n    }\n\n    results.innerHTML = renderGallery(result.hits);\n    lightbox.refresh();\n  });\n});\n"],"names":["API_KEY","BASE_URL","fetchPhotosByQuery","query","searchParams","response","renderGallery","hits","hit","form","input","results","lightbox","SimpleLightbox","e","iziToast","result"],"mappings":"wvBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAqBC,GAAS,CACzC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGrC,OAAOA,EAAS,MACpB,CAAG,CACH,ECnBaC,EAAgBC,GACpBA,EACJ,IACCC,GAAO;AAAA;AAAA,uBAEUA,EAAI,aAAa,eAAeA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,kEAEvBA,EAAI,KAAK;AAAA,kEACTA,EAAI,KAAK;AAAA,qEACNA,EAAI,QAAQ;AAAA,sEACXA,EAAI,SAAS;AAAA;AAAA;AAAA,QAI9E,EACA,KAAK,EAAE,ECRNC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQ,SAAS,eAAe,cAAc,EAC9CC,EAAU,SAAS,eAAe,SAAS,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAElD,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,GAAK,CACnCA,EAAE,eAAc,EAChB,MAAMX,EAAQO,EAAM,MAAM,KAAI,EAC9B,GAAIP,IAAU,GAAI,CAChBY,EAAS,KAAK,CACZ,QAAS,kCACT,SAAU,WACV,QAAS,IACT,MAAO,KACb,CAAK,EACD,MACD,CAEDb,EAAmBC,CAAK,EAAE,KAAKa,GAAU,CAGvC,GAFA,QAAQ,IAAIA,CAAM,EAEdA,EAAO,QAAU,EAAG,CACtBD,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,QAAS,IACT,MAAO,KACf,CAAO,EACD,MACD,CAEDJ,EAAQ,UAAYL,EAAcU,EAAO,IAAI,EAC7CJ,EAAS,QAAO,CACpB,CAAG,CACH,CAAC"}